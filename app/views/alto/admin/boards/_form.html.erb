<%= form_with(model: [:admin, @board], local: true, class: "space-y-6") do |form| %>
  <% if @board.errors.any? %>
    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md">
      <h4 class="font-medium">Please fix the following errors:</h4>
      <ul class="mt-2 list-disc list-inside">
        <% @board.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= render 'shared/forms/input',
      form: form,
      field_name: :name,
      placeholder: "Board name",
      model: @board,
      required: true %>

  <hr class="border-gray-200">

  <div class="space-y-2">
    <%= form.label :description, "Description", class: "block text-sm font-medium text-gray-700" %>
    <p class="text-sm text-gray-500">
      Help users understand what this board is for. This description appears on the board listing and header.
    </p>
    <%= form.text_area :description,
        placeholder: "Optional description for this board",
        rows: 3,
        class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical" %>
    <% if @board.errors[:description].any? %>
      <% @board.errors[:description].each do |error| %>
        <p class="text-sm text-red-600"><%= error %></p>
      <% end %>
    <% end %>
  </div>

  <hr class="border-gray-200">

  <div class="space-y-2">
    <%= form.label :item_label_singular, "Item Label (Singular)", class: "block text-sm font-medium text-gray-700" %>
    <p class="text-sm text-gray-500">
      This label defines what individual items in this board are called throughout the interface in buttons, headings, and forms. Use 'ticket' for bug reports, 'request' for features, 'post' for discussions, or 'issue' for support.
    </p>
    <%= form.text_field :item_label_singular,
        placeholder: "ticket, post, request, issue...",
        class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
    <% if @board.errors[:item_label_singular].any? %>
      <% @board.errors[:item_label_singular].each do |error| %>
        <p class="text-sm text-red-600"><%= error %></p>
      <% end %>
    <% end %>
  </div>

  <hr class="border-gray-200">

  <div class="space-y-2">
    <%= form.label :status_set_id, "Status Set", class: "block text-sm font-medium text-gray-700" %>
    <p class="text-sm text-gray-500">
      Choose how items on this board will be tracked through different statuses.
      <%= link_to "Manage status sets", alto.admin_status_sets_path, class: "text-blue-600 hover:text-blue-500" %>
    </p>
    <%= form.select :status_set_id,
                      options_from_collection_for_select(::Alto::StatusSet.ordered, :id, :name, @board.status_set_id),
        { prompt: 'Select a status set...', include_blank: false },
        { class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" } %>
    <% if @board.errors[:status_set_id].any? %>
      <% @board.errors[:status_set_id].each do |error| %>
        <p class="text-sm text-red-600"><%= error %></p>
      <% end %>
    <% end %>
    <% if @board.errors[:status_set].any? %>
      <% @board.errors[:status_set].each do |error| %>
        <p class="text-sm text-red-600"><%= error %></p>
      <% end %>
    <% end %>
  </div>

  <hr class="border-gray-200">

  <div class="space-y-2">
    <div class="flex items-start">
      <div class="flex items-center h-5">
        <%= form.check_box :is_admin_only,
            class: "h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500" %>
      </div>
      <div class="ml-3">
        <%= form.label :is_admin_only, "Admin-Only Board", class: "text-sm font-medium text-gray-700" %>
        <p class="text-sm text-gray-500">
          ðŸ”’ Only administrators can view and access this board. Regular users won't see it in listings or be able to access it directly.
        </p>
      </div>
    </div>
    <% if @board.errors[:is_admin_only].any? %>
      <% @board.errors[:is_admin_only].each do |error| %>
        <p class="text-sm text-red-600"><%= error %></p>
      <% end %>
    <% end %>
  </div>

  <div class="flex justify-end space-x-3">
    <%= render 'shared/buttons/secondary',
        text: "Cancel",
        url: alto.admin_boards_path %>
    <%= render 'shared/buttons/primary',
        text: (@board.new_record? ? "Create Board" : "Update Board"),
        type: "submit" %>
  </div>
<% end %>
